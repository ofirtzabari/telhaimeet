<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Welcome to Firebase Hosting</title>

    <script defer src="/__/firebase/9.17.1/firebase-app-compat.js"></script>
    <script defer src="/__/firebase/9.17.1/firebase-auth-compat.js"></script>
    <script defer src="/__/firebase/9.17.1/firebase-database-compat.js"></script>
    <script defer src="/__/firebase/9.17.1/firebase-firestore-compat.js"></script>
    <script defer src="/__/firebase/9.17.1/firebase-functions-compat.js"></script>
    <script defer src="/__/firebase/9.17.1/firebase-messaging-compat.js"></script>
    <script defer src="/__/firebase/9.17.1/firebase-storage-compat.js"></script>
    <script defer src="/__/firebase/9.17.1/firebase-analytics-compat.js"></script>
    <script defer src="/__/firebase/9.17.1/firebase-remote-config-compat.js"></script>
    <script defer src="/__/firebase/9.17.1/firebase-performance-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.14.3/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.14.3/firebase-auth.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
    <script defer src="/__/firebase/init.js?useEmulator=true"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <!-- <script type="module" src="signup.js"></script>  -->
    <style>
      body{
        background-color:#64a83abe ;
      }
      
    </style>
  </head>
  <div class="container mt-5">
    <div class="row">
      <div class="col-md-6 offset-md-3">
        <div class="card">
          <div class="card-header bg-primary text-white text-center">
            Sign Up
          </div>
          <div class="card-body">
            <form id="signup-form">
              <label for="name">Name:</label>
              <input type="text" class="form-control" id="name" name="name" required>
              <label for="email">Email:</label>
              <input type="email" class="form-control" id="email" name="email" required>
              <label for="password">Password:</label>
              <input type="password" class="form-control" id="password" name="password" required>
            </form>
              <button id="signup" class="btn btn-primary btn-block">Sign Up</button>
            <!-- display error message -->
            <p id="error-message" class="text-danger mt-3"></p>
            <p class="text-center mt-3">Already registered? <a href="login.html">Login</a></p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
  <script type="module">
    import { initializeApp, getApp } from 'https://www.gstatic.com/firebasejs/9.17.1/firebase-app.js'

    // If you enabled Analytics in your project, add the Firebase SDK for Google Analytics
    import { getAnalytics } from 'https://www.gstatic.com/firebasejs/9.17.1/firebase-analytics.js'

    // Add Firebase products that you want to use
    import { getAuth, createUserWithEmailAndPassword } from 'https://www.gstatic.com/firebasejs/9.17.1/firebase-auth.js'
    import { getFirestore } from 'https://www.gstatic.com/firebasejs/9.17.1/firebase-firestore.js'

    const firebaseConfig = {
      apiKey: "AIzaSyBpnxrWY7cxJ3jAPceUju5C5lcxiDpot6I",
      authDomain: "meetelhai.firebaseapp.com",
      databaseURL: "https://meetelhai-default-rtdb.europe-west1.firebasedatabase.app",
      projectId: "meetelhai",
      storageBucket: "meetelhai.appspot.com",
      messagingSenderId: "690174653337",
      appId: "1:690174653337:web:7fad7656f5466c1e235908"
    };
    
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore();


    $(document).ready(function(){

      $("#signup").click(function(){

        var email = $("#email").val();
        var password = $("#password").val();

        createUserWithEmailAndPassword(auth, email, password)
        .then((userCredential) => {
          alert("successful");
          // Signed in 
          const user = userCredential.user;
          if (user) {
            var userData = {
              uid: user.uid,
              mum: 456
            }}
          sessionStorage.setItem('userData', JSON.stringify(userData));
          // ...
          window.location.href="./knowme.html";
        })
        .catch((error) => {
          const errorCode = error.code;
          const errorMessage = error.message;
          $("#error-message").html(errorCode);
          // ..
        });
      });

    });

  </script>
</body>
</html>
